# memo.md
このファイルはユーザーのみ記入する
要望や問題点について記載する

## 作業開始のMagic word
[CLAUDE.md]をまず読んで。これが要件定義とやるべきこと。それから[README.md]を確認。これまでやってきたことは[daily_report]フォルダを確認。行うべき作業は[docs]フォルダに格納してある。
複雑なタスクや、コード作成を行った場合は基本的にcodex second opinion skillを使用し、コードレビューを受け直ぐに修正を行って。


## Never 
git pushは勝手には行わない。ユーザーに必ず確認する。

## first step
[Concept.md]
簡単な要件定義
[CLAUDE.md]
このプロジェクトのルール。
まずは必要なファイルを読み込み、要件定義を詰めたいので、私にヒアリングしてください。

## 要件定義がため


# 1. 現在のディレクトリを確認
pwd
# → /Users/tkojima/calender_desktop になっているはず

# 2. 仮想環境を有効化
source venv/bin/activate

# 3. プロンプトに (venv) が表示されることを確認
# (venv) tkojima@... のようになっているはず

# 4. 依存関係がインストールされているか確認
pip list | grep google

# 5. もしgoogleパッケージが表示されなければ、再インストール
pip install -r requirements.txt

# 6. 再度実行
python main.py --run-once

ありがとう、かなり良くなっている！
いくつかお願いがある
- 上の今日〜明後日の予定カードが、予定が１件しか表示できていない。２件目以降も表示できるようにしてほしい。フォントもおそらく大きすぎる。予定ごとに１カードで上から表示。３件までは表示してほしい。それ以上は省略でいい。
- 下のweeklyCalendar　やはり上下が長過ぎる。もう少し縮尺を短くして全体を小さく表示してほしい。weekly calender側は内容がみにくくても許容する。
- Macなら上のヘッダー、Windowsなら右下のフッターにアイコンを収めて、それをクリックするとGoogle Calenderをブラウザ上で開くようにしてほしい。
- デザイン改善をお願いしたい。いまはシンプルすぎるが、もう少しファンシー系およびオシャレ系それぞれのデザインで可変にしてほしい
やってほしいことが多いので、docsフォルダを作成し、CLAUDE.mdのtodoチケット管理ルールに基づき、まずはやるべき作業を明確にしよう。






起動確認


 メインウィンドウが表示される
 >表示された、がプレビューは何も見えない
 タイトル「カレンダー壁紙アプリ」が表示される
 >表示された
テーマ選択
 テーマComboBoxに選択肢が表示される（simple, modern, pastel, dark, vibrant）
 >表示された
 テーマを変更できる
 >選択はできるが反映しない
壁紙更新

 「今すぐ更新」ボタンをクリック
 > 壁紙の更新に失敗しましたと表示される
 進捗バーが表示される
 >されない
 Google Calendar認証が動作する（初回のみブラウザ起動）
 >動作しない
 壁紙が実際に更新される
 >更新されない
 ステータスバーに「壁紙を更新しました」と表示される
CalendarEventモデル（H-2検証）

 Google Calendarからイベントを取得できる
 CalendarEventオブジェクトとして正しく処理される
 エラーが発生しない（Dict→CalendarEventの変換が成功）
エラーハンドリング

 エラーが発生した場合、適切なメッセージが表示される


まった、全然だめ。

 Chromatic Layers: 時刻テキスト（例: "14:00"）にRGB分離効果が見えるか
 vibrantテーマで効果が最も強い
modernテーマで効果が最も控えめ
 > 全然わからない。何がどう実装される事になっているかもわからない。上の段？とおもってたら、あとから分かった。時刻テキストがボケてみえるのね。この機能は全くいらない。削除。

 >私がドラスティックッと言った意味が通じていない。つまり、背景との関連性や、枠の形、デザインフォントの自由度を挙げてほしいという意味。
 >デザインについては計画し直し。フォントや背景との関連性、融和性、枠の形、色分けなどまだまだ直せる点があるはず
 
  >ついでに直してほしいリクエストを挙げるが、背景透明に黒い文字で時刻を見せているので、weekly calenderの時刻が全然見えない。見えやすいように改善をしてほしい。

> これらの事項について、どのような方法で実装できるか、拡張性があるかについて検討して私に提示して。

> /Users/tkojima/calender_desktop/Screenshots/スクリーンショット 2026-02-07 午後3.13.58.png 例えばシンプルなweeklyアプリといえばこういった表示が考えられる。時間ごとに色が綺麗で見やすい。少なくともこのレベルを望んでいる。

> /Users/tkojima/calender_desktop/Screenshots/スクリーンショット 2026-02-07 午後3.14.55.png
> 日をまたぐ予定はこういうふうに表示されてほしい

>さらにもう一つおねがい、上の段は　今日・明日・明後日の3列で、それぞれ3枚までカード表示するという想定だったはず。いまは1日の分が3枚表示されている。一つのカードの縦幅を小さくし、3つ以上縦並びになるようにする必要がある。

 進行バー: 現在進行中のイベントカードに青→緑のグラデーションバーが表示されているか
 >これは一応見えている、が弱い。カードの色自体がかわり、枠が赤線で囲まれて強調されるとか、予定自体の文字色が変わるとか
 時刻矢印: 週間カレンダーの現在時刻に赤い矢印が表示されているか
 >矢印表示されているが、見にくい。現在時刻の部分が光るような設計がいいと思う。今なら「土曜日」の「15:00-16:00」が薄めの蛍光色の黄色で塗りつぶされるようなイメージ。これを適応する場合、自動的に1時間に1回はスケジュール取り直して表示を更新できる必要があるとおもうのでそちらの実装についても計画する。サブエージェント使って計画。

 既存機能: カード表示、週間カレンダー、テーマ切り替えが正常に動作するか
> 一応できているが、さっき言ったとおり上の段は改善が必要。
確認後、問題がなければPhase 2（Live Blur + Depth + Dynamic Layout）の実装に進みます！


提案してくれた各項目それぞれチケット化し、段階的に作業してほしい

1. Weekly Calendar 時刻ラベルの視認性改善
Aの半透明を、ラベル部分の場合と、全体的（カード及びCalendar全体の背景に）に書ける場合と両方ほしい。これらのエフェクトは選択可能に。BやCも方法として残してほしい

2. 上段カード: 今日・明日・明後日の3列レイアウト
カード色、現在進行中を強調も忘れずに

3. 進行中イベントの強調強化
よろしく

4. 現在時刻表示: 蛍光色で時間帯塗りつぶし
よろしく

5. 日をまたぐ予定の表示（参考スクリーンショット2）
まかせた

6. デザイン再計画: 背景融和性・枠形・フォント・色分け
重要。最終的にはgmailでログイン作業もこのアプリ内でやるようにしてほしい。イメージ的にはGUI内に、Calendar追加操作ができる様になって、そこからGoogleログインすればCalendarが利用できるようになる。そのCalendarごとにカード色が変わるイメージ。
これについても別チケットで実装予定にして

7. 1時間ごとの自動更新機能
なんかしらの方法で常駐させて起動させるように。最終的はコマンドライン起動ではなく、アプリのようにアイコンから起動し、MacのトップやWindowsの右下に収まって常時起動するイメージ


## 作業の汎用命令文
新規作業ならチケット作成を行ってから開始を。
優先度順に必要に応じてTDDで作業をして。適宜サブエージェントを使いながら作業をよろしく。コードを書いたらなるべく/Users/tkojima/claude code/kuchikomi_maker/Codex-SKILL.md　によるコードレビューを受けて
終わった作業はチケットにマーク付けて


source venv/bin/activate
python run_gui.py
