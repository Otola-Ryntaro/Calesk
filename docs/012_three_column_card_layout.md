# チケット012: 上段カード - 今日・明日・明後日の3列レイアウト

## 概要

上段の予定カードを「今日・明日・明後日」の3列に変更し、各列で複数枚のカードを縦に並べる。

## 現状の問題

- `_draw_event_cards()` が今日の予定のみを横に最大3枚並べている
- 明日・明後日の予定が上段に表示されない
- `_get_events_for_days()` は既に存在するが未使用

## 実装方法

### レイアウト設計

```
|  今日の予定  |  明日の予定  |  明後日の予定  |
|  ┌────────┐ |  ┌────────┐ |  ┌────────┐   |
|  │ 09:00  │ |  │ 10:00  │ |  │ 14:00  │   |
|  │ 会議   │ |  │ ランチ │ |  │ 打合せ │   |
|  └────────┘ |  └────────┘ |  └────────┘   |
|  ┌────────┐ |  ┌────────┐ |               |
|  │ 14:00  │ |  │ 15:00  │ |               |
|  │ 打合せ │ |  │ MTG    │ |               |
|  └────────┘ |  └────────┘ |               |
|  ┌────────┐ |             |               |
|  │ 17:00  │ |             |               |
|  │ 面談   │ |             |               |
|  └────────┘ |             |               |
```

### カードサイズ変更

- `CARD_HEIGHT`: 200 → 80（コンパクト版）
- `CARD_WIDTH`: 300 → 260
- 各列最大3枚のカードを縦に並べる
- 列ヘッダー: 「今日の予定」「明日の予定」「明後日の予定」

### API変更

- `generate_wallpaper()` に `week_events` を上段カードにも渡す
- `_draw_event_cards()` を全面リファクタリング
- `_get_events_for_days()` を活用して3日分のイベントを抽出

### カード色・進行中強調

- カラーバーの色を `color_id` に基づいて設定（既存機能活用）
- 進行中イベントの強調は チケット013 と連携

## タスク

- [x] `config.py` にコンパクトカードの設定値を追加 ✅
- [x] `_draw_event_cards()` を3列レイアウトにリファクタリング ✅
- [x] `_get_events_for_days()` を活用してイベント振り分け ✅
- [x] コンパクトカード用の `_draw_compact_event_card()` を実装 ✅
- [x] 列ヘッダー「今日の予定」等を描画 ✅
- [x] `generate_wallpaper()` の引数を調整 ✅
- [x] 0件の列の表示処理（「予定なし」表示） ✅
- [x] テスト追加（15テスト） ✅
- [x] 視覚確認 ✅

## 変更ファイル

- `src/config.py` - カードサイズ設定
- `src/image_generator.py` - レイアウトロジック全面変更
- `src/viewmodels/wallpaper_service.py` - イベントデータの渡し方

## 依存関係

- チケット013（進行中イベントの強調）と連携

## 優先度: HIGH
## 工数: 中（3-4時間）
