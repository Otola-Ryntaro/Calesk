# 010_token_dir_creation_fix

## 対応対象
- `src/calendar_client.py`

## 問題
- 一部トークン保存処理で親ディレクトリ作成を保証していない。

## 修正方針（どう直すか）
- `TOKEN_PATH.parent.mkdir(parents=True, exist_ok=True)` を保存前に必ず実行。
- マルチアカウント側のトークン保存でも同等処理を統一。

## 実装タスク
- [ ] `authenticate()` のトークン保存前にmkdirを追加
- [ ] 既存 `add_account()` と整合するよう共通化
- [ ] 失敗時ログを具体化（どのパス作成で失敗したか）

## 受け入れ条件
- [ ] 初回環境で認証成功後にトークン保存まで完了する
- [ ] 保存先未作成でも例外終了しない

## テスト観点
- [ ] 空ディレクトリ状態からの初回認証
- [ ] 書き込み不可ディレクトリ時の失敗ハンドリング
